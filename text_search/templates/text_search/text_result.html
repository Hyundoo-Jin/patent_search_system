{% extends 'search/index.html' %}
{% load static %}

{% block search %}
<style>
    form {

        margin: 0 auto;

    }
</style>

<!--  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

<header id='head' class="masthead"></header>

    <div class="container">

      <br><br>

    <div class="row text-center" style="width: 100%">
      <form id='submit_page_1' class="form-inline mr-auto" action="{% url 'text_search_1' %}" method="get">
        <input class="form-control mr-sm-2 text-center"  name="keyword" id="search_keyword" type="text" value="{{final_keyword}}"
                placeholder="검색하고 싶은 키워드를 입력해주세요" style="width:700px" aria-label="Search">
        <button id="button_submit" class="btn btn-outline-success btn-rounded btn-sm my-0" type="submit">Wordcloud   <i class="fa fa-search"></i></button>
      </form>
    </div>


    <br>


    <div class="row text-center" style="width: 100%">
      <form id='submit_page_2' action="{% url 'text_search_2' %}" method="get">
        <input tpye="text" name="final_keyword" id="final_search_keyword"  value="{{final_keyword}}" style="display:none;"/>
        <button id="final_search_button" type="submit" class="btn btn-primary"> 현재 키워드들로 검색하기 </button>
      </form>
    </div>

    <br>


    <div>


<!--        <div class="accordion" id="accordionExample">-->
        <div class="panel-group" id="accordion">

                                                    {% for data in data_list %}

  <div class="card">
    <div class="card-header" id="heading">
      <h2 class="mb-0">
        <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    {{data.title}}
        </button>
        <button class="btn" type="button" style="float: right;" onclick="location.href='https://patents.google.com/?q='+'{{data.title}}' ">
                    해당 사이트로 가기
        </button>
      </h2>
    </div>

    <div id="collapseOne" class="collapse" aria-labelledby="heading" data-parent="#accordionExample">
      <div class="card-body">
                    {{data.abstract}}
      </div>
    </div>
  </div>
                    {% endfor %}

<!--  <div class="card">-->
<!--    <div class="card-header" id="headingThree">-->
<!--      <h2 class="mb-0">-->
<!--        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">-->
<!--          Collapsible Group Item #3-->
<!--        </button>-->
<!--      </h2>-->
<!--    </div>-->
<!--    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">-->
<!--      <div class="card-body">-->
<!--        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<!--    <div class="row text-center" style="width: 100%">-->
<!--    <table class="table" style="table-layout:fixed">-->
<!--        <thead class="thead-dark">-->
<!--            <th width="5%">번호</th>-->
<!--            <th width="20%">title</th>-->
<!--            <th width="atuo">abstract</th>-->

<!--        </thead>-->
<!--        <tbody>-->
<!--                    {% for data in data_list %}-->
<!--            <tr style = "cursor:pointer;" onClick = " location.href='https://patents.google.com/patent/GB2314148A/en?q=python&oq=python' ">-->
<!--                <td>-->
<!--                    {{ forloop.counter }}-->
<!--                </td>-->
<!--                <td style="text-overflow:ellipsis; overflow:hidden; white-space:nowrap">-->
<!--                    {{data.title}}-->
<!--                </td>-->
<!--                <td style="text-overflow:ellipsis; overflow:hidden; white-space:nowrap">-->
<!--                    {{data.abstract}}-->
<!--                </td>-->

<!--            </tr>-->
<!--                    {% endfor %}-->
<!--        </tbody>-->
<!--    </table>-->
<!--    </div>-->
    <br>

        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-center">
            <li class="page-item">
              <a class="page-link" href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
              <a class="page-link" href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
          </ul>
        </nav>

    </div>


<!--메뉴바 정리-->
<script>
$(function(){
  $('#home').attr("href", "{% url 'search' %}");
  $("li").remove("#About, #Services, #Portfolio, #Contact");
<!--  $("#head.masthead").css('background','linear-gradient(to bottom,rgba(92,77,66,.8) 0,rgba(92,77,66,.8) 100%),url(../img/bg-masthead.jpg)');-->
<!--  $("#head.masthead").css('background','#746962');-->
  $("#head.masthead").css({'height': 0, 'min-height':0, 'background':'#746962'});
});
</script>

<!--검색 키워드 최종 키워드로 바꾸기 -->
<script>
$(function(){
    $('#final_search_button').click(function(){
        var final_keyword = $('#search_keyword').val();
        $('#final_search_keyword').val(final_keyword);
    });
});
</script>

<!--검색 키워드 없을 때 -->
<script>
$('#final_search_button').click(function(){
    var search_keyword = $('#search_keyword').val();
    if (search_keyword == ""){
        alert('검색어를 입력 후 검색해주세요!');
        $("#submit_page_2").attr("action", "{% url 'text_search' %}");}
    else {}
    });
$('#button_submit').click(function(){
    var search_keyword = $('#search_keyword').val();
    if (search_keyword == ""){
        alert('검색어를 입력 후 검색해주세요!');
        $("#submit_page_1").attr("action", "{% url 'text_search' %}");}
    else {}
    });
</script>

<!--<script>-->
<!--$(function(){-->
<!--  $('.form-control').val("{{search_keyword}}");-->
<!--  {% for keyword in final_keyword %}-->
<!--  var ctr = "{{keyword}}" + " X";-->
<!--    var keyword_tag = "<input type='submit' name='add_keyword' class='keywords' style='background-color:#D9E5FF; color:#6799FF; margin:10px 5px 10px 5px' value='" + ctr + "'/>";-->
<!--    $('#keyword_list').append(keyword_tag);-->
<!--    {% endfor %}-->
<!--});-->
<!--</script>-->



{% endblock %}